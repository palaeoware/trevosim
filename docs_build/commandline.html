<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10. Command Line Options &mdash; TREvoSim 3.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=86f27845" />

  
  
        <script src="_static/documentation_options.js?v=dd1205ac"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11. Tests" href="software_tests.html" />
    <link rel="prev" title="9. Menu commands" href="filecommands.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            TREvoSim
              <img src="_static/TREvoSim.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirementsinstallation.html">2. Requirements and Installation from Binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildingfromsource.html">3. Compiling from Source and Development Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithmconcepts.html">4. Algorithm, Concepts, and Experimental Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="windowlayout.html">5. Window Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">6. Settings - Organisms and simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings2.html">7. Settings - Environment, events and playing fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="loggingsim.html">8. Logging the Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="filecommands.html">9. Menu commands</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">10. Command Line Options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-via-ssh">10.1. Running via SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#switches">10.2. Switches</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="software_tests.html">11. Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TREvoSim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">10. </span>Command Line Options</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/commandline.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="command-line-options">
<span id="commandline"></span><h1><span class="section-number">10. </span>Command Line Options<a class="headerlink" href="#command-line-options" title="Link to this heading">¶</a></h1>
<p>TREvoSim has command line options that allow simulations to be launched from a terminal or from batch files. It  has a limited number of command line switches (below): the expected use case is to load a settings file, and run replicates using these settings. An example is given below. Any combination of switches in any order is allowed. Note that on some systems, path names with spaces may cause problems: these are best avoided, but alternatively paths can be encased in double quotes if they contain a space.</p>
<section id="running-via-ssh">
<h2><span class="section-number">10.1. </span>Running via SSH<a class="headerlink" href="#running-via-ssh" title="Link to this heading">¶</a></h2>
<p>Due to the framework used to create the TREvoSim user interface, launching the software via the command line also launches a GUI. Launching remotely can be achieved with ease using remote desktopping solutions or SSH coupled with X-forwarding. If, however, it is required to run TREvoSim in headless mode where a GUI is not possible (e.g. on an HPC or similar), this can be achieved in a through a number of solutions that can bypass this requirement, assuming no interaction with the GUI is required. The simplest, that will work on the majority of systems with Qt installed, is to include the flag -platform offscreen when running:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./trevosim -platform offscreen</span>
</pre></div>
</div>
<p>This co-opts a Qt platform plugin to render to an offscreen buffer. Another option is to install XVFB - this is an “X server that can run on machines with no display hardware and no physical input device”  (<a class="reference external" href="https://www.x.org/releases/X11R7.6/doc/man/man1/Xvfb.1.xhtml">More information</a>). Once installed, you can launch TREvoSim as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">xvfb-run -a  ./trevosim \--auto 1000</span>
</pre></div>
</div>
<p>You can then use e.g. SFTP to collect output files as required.</p>
</section>
<section id="switches">
<h2><span class="section-number">10.2. </span>Switches<a class="headerlink" href="#switches" title="Link to this heading">¶</a></h2>
<p>These can be used as either in single letter form (-o) or long form (--open - note the double -). Values are separated from the switch using a space or an equals, e.g.</p>
<ul class="simple">
<li><p>-b=30</p></li>
<li><p>-b 30</p></li>
<li><p>--batch=30</p></li>
<li><p>--batch 30</p></li>
</ul>
<p>A full list of switches (also available using switch -h, help); only those with &lt;&gt; expect an input value:</p>
<ul>
<li><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Displays help on commandline options.</p>
</dd>
</dl>
</li>
<li><dl class="option-list">
<dt><kbd><span class="option">--help-all</span></kbd></dt>
<dd><p>Displays help including Qt specific options.</p>
</dd>
</dl>
</li>
<li><dl class="option-list">
<dt><kbd><span class="option">-v</span>, <span class="option">--version</span></kbd></dt>
<dd><p>Displays version information.</p>
</dd>
</dl>
</li>
<li><dl class="option-list">
<dt><kbd><span class="option">-s</span>, <span class="option">--skipInput</span></kbd></dt>
<dd><p>In a limited number of circumstances TREvoSim requests user input: the inclusion of this switch skips these.</p>
</dd>
</dl>
</li>
<li><dl class="option-list">
<dt><kbd><span class="option">-o</span>, <span class="option">--open <var>&lt;Path to file (string)&gt;</var></span></kbd></dt>
<dd><p>Settings file to load on start.</p>
</dd>
</dl>
</li>
<li><dl class="option-list">
<dt><kbd><span class="option">-b</span>, <span class="option">--batch <var>&lt;Number of replicates (integer)&gt;</var></span></kbd></dt>
<dd><p>Run in batch mode.</p>
</dd>
</dl>
</li>
</ul>
<p>When no settings file is defined, TREvoSim will run with the defaults (however, this will not override the settings that persist between GUI runs). The code below, assuming the working directory is that with a TREvoSim binary, will launch TREvoSim, load the file TREvoSim_settings.xml in the same working directory, and then run 500 replicates:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./TREvoSim -o ./TREvoSim_settings.xml -b 100</span>
</pre></div>
</div>
<p>When TREvoSim runs from the command line, information and error messages are written to the console, for instance:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Program launched from command line</span>
<span class="go">Will try to open file ./TREvoSim_settings.xml.</span>
<span class="go">File loaded, settings now as follows:</span>
<span class="go">&quot;variables : genomeSize 128 speciesSelectSize 128 fitnessSize 128 runForTaxa 64 runForIterations 1000 playingfieldSize 20 speciesDifference 4 environmentMutationRate 1 organismMutationRate 5 unresolvableCutoff 5 environmentNumber 1 maskNumber 3 runMode 1 speciationMode 1 stripUninformative 0 writeTree 1 writeRunningLog 0 writeFileOne 1 writeFileTwo 1 writeEE 0 noSelection 0 randomSeed 0 genomeOnExtinction 1 discardDeleterious 0 fitnessTarget 0 playingfieldNumber 1 mixing 0 mixingProbabilityZeroToOne 0 mixingProbabilityOneToZero 0 playingfieldMasksMode 0 selection 10 randomOverwrite 0 ecosystemEngineers 0 ecosystemEngineersArePersistent 0 ecosystemEngineeringFrequency 10 ecosystemEngineersAddMask 0 runningLogFrequency 50 replicates 25 expandingPlayingfield0 stochasticLayer 0 stochasticDepth 1 matchFitnessPeaks 0 stochasticMap 0000000000000000&quot;</span>
<span class="go">TREvoSim will now run your simulation. The following information may be useful:</span>
<span class="go">-- The first replicate will be shown on the GUI.</span>
<span class="go">-- If there is an error, a pop up will ask you how you would like to continue</span>
<span class="go">-- If you select to cancel runs, the program will exit, otherwise you can continue, but the software may run your simulation forevermore.</span>
<span class="go">-- If there is no error after the first replicate, TREvoSim will then run all subsequent replicates in parallel.</span>
<span class="go">Starting first pass of your remaining batch. Running 99 remaining simulations on 22 cores.</span>
<span class="go">TREvoSim has finished its replicates (or you cancelled), and will now quit.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some of this material is sourced from the manual for REvoSim 3.0.0.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="filecommands.html" class="btn btn-neutral float-left" title="9. Menu commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="software_tests.html" class="btn btn-neutral float-right" title="11. Tests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright (TREvoSim documentation) 2024, Russell J. Garwood, Alan R.T. Spencer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>